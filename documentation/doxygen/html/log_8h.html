<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>source/tools/log.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>source/tools/log.h File Reference</h1><code>#include &lt;boost/shared_ptr.hpp&gt;</code><br>
<code>#include &lt;iosfwd&gt;</code><br>

<p>
<a href="log_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlog_1_1context.html">log::context</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">used to define a custom <a class="el" href="namespacelog.html">log</a> <a class="el" href="structlog_1_1context.html" title="used to define a custom log context">context</a>  <a href="structlog_1_1context.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Namespaces</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html">log</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#9870820a0ce14ee3ce6ab796f0f68bb0">LOG_MESSAGE</a>(expression, level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience macro to <a class="el" href="namespacelog.html">log</a> a line  <a href="#9870820a0ce14ee3ce6ab796f0f68bb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="10863835a2536b0465d8579743429fa5"></a><!-- doxytag: member="log.h::LOG_FATAL" ref="10863835a2536b0465d8579743429fa5" args="(e)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#10863835a2536b0465d8579743429fa5">LOG_FATAL</a>(e)&nbsp;&nbsp;&nbsp;LOG_MESSAGE(e, log::fatal)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience marco to <a class="el" href="namespacelog.html">log</a> a line with <a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705d8c1d2f3de4604e1054f2dcaef2b2bf1">log::fatal</a> severity <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7bd75e11cac2ff083a71f6bb2d3c703f"></a><!-- doxytag: member="log.h::LOG_ERROR" ref="7bd75e11cac2ff083a71f6bb2d3c703f" args="(e)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#7bd75e11cac2ff083a71f6bb2d3c703f">LOG_ERROR</a>(e)&nbsp;&nbsp;&nbsp;LOG_MESSAGE(e, log::error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience marco to <a class="el" href="namespacelog.html">log</a> a line with <a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e07055c1eb29e661118a4caa624569c14258d">log::error</a> severity <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="287ba4fde371d578de77456b9b7a88af"></a><!-- doxytag: member="log.h::LOG_WARNING" ref="287ba4fde371d578de77456b9b7a88af" args="(e)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#287ba4fde371d578de77456b9b7a88af">LOG_WARNING</a>(e)&nbsp;&nbsp;&nbsp;LOG_MESSAGE(e, log::warning)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience marco to <a class="el" href="namespacelog.html">log</a> a line with <a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705e8d80998c6395952cb722488287c23b2">log::warning</a> severity <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c0f6cfb807e6b54226b08a39b9a29c2a"></a><!-- doxytag: member="log.h::LOG_INFO" ref="c0f6cfb807e6b54226b08a39b9a29c2a" args="(e)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#c0f6cfb807e6b54226b08a39b9a29c2a">LOG_INFO</a>(e)&nbsp;&nbsp;&nbsp;LOG_MESSAGE(e, log::info)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience marco to <a class="el" href="namespacelog.html">log</a> a line with <a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e070557ba54eae327cf6b73e51912287ce9c9">log::info</a> severity <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c88faa82c8d6762d63722601699c9f90"></a><!-- doxytag: member="log.h::LOG_MAIN" ref="c88faa82c8d6762d63722601699c9f90" args="(e)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#c88faa82c8d6762d63722601699c9f90">LOG_MAIN</a>(e)&nbsp;&nbsp;&nbsp;LOG_MESSAGE(e, log::main)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience marco to <a class="el" href="namespacelog.html">log</a> a line with <a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705bd18e0395df4ce908d9e71951f583f53">log::main</a> severity <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8d5478eb0a436f4a24a2b1ba82546e5a"></a><!-- doxytag: member="log.h::LOG_DETAIL" ref="8d5478eb0a436f4a24a2b1ba82546e5a" args="(e)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#8d5478eb0a436f4a24a2b1ba82546e5a">LOG_DETAIL</a>(e)&nbsp;&nbsp;&nbsp;LOG_MESSAGE(e, log::detail)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience marco to <a class="el" href="namespacelog.html">log</a> a line with <a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705319adbbbaeede44c19aa81aa3bf77ef9">log::detail</a> severity <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1f7a36ebeffc05f4d688758aba933264"></a><!-- doxytag: member="log.h::LOG_DEBUG" ref="1f7a36ebeffc05f4d688758aba933264" args="(e)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#1f7a36ebeffc05f4d688758aba933264">LOG_DEBUG</a>(e)&nbsp;&nbsp;&nbsp;LOG_MESSAGE(e, log::debug)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience marco to <a class="el" href="namespacelog.html">log</a> a line with <a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705a2dd54ee7f54f18cf2858dfb15528268">log::debug</a> severity <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b8769a99f5c39c8b94b63729fb96040e"></a><!-- doxytag: member="log.h::LOG_ALL" ref="b8769a99f5c39c8b94b63729fb96040e" args="(e)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#b8769a99f5c39c8b94b63729fb96040e">LOG_ALL</a>(e)&nbsp;&nbsp;&nbsp;LOG_MESSAGE(e, log::all)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">convenience marco to <a class="el" href="namespacelog.html">log</a> a line with <a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705d8c1d2f3de4604e1054f2dcaef2b2bf1">log::fatal</a> severity <br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705">log::log_level</a> { <br>
&nbsp;&nbsp;<a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705d8c1d2f3de4604e1054f2dcaef2b2bf1">log::fatal</a>, 
<a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e07055c1eb29e661118a4caa624569c14258d">log::error</a>, 
<a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705e8d80998c6395952cb722488287c23b2">log::warning</a>, 
<a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e070557ba54eae327cf6b73e51912287ce9c9">log::info</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705bd18e0395df4ce908d9e71951f583f53">log::main</a>, 
<a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705319adbbbaeede44c19aa81aa3bf77ef9">log::detail</a>, 
<a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705a2dd54ee7f54f18cf2858dfb15528268">log::debug</a>, 
<a class="el" href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705288c139642873a7fc54853a87563bfd4">log::all</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type to express the severity of the message to be logged.  <a href="namespacelog.html#44329f492ce8c3dcc050c02aaa3e0705">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::ostream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#c4742ec6ff98ab6df8e5519cb9d331e1">log::operator&lt;&lt;</a> (std::ostream &amp;output, log_level level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">prints the given log_level in a human readable manner onto the given stream  <a href="#c4742ec6ff98ab6df8e5519cb9d331e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::istream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#f6409b8b9c15331cdf406f371a850a21">log::operator&gt;&gt;</a> (std::istream &amp;input, log_level &amp;level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reads a log_level from the given input stream  <a href="#f6409b8b9c15331cdf406f371a850a21"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::ostream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#f061af3843a400931c85c2739e680f4f">log::operator&lt;&lt;</a> (std::ostream &amp;output, const context &amp;c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">adds a <a class="el" href="namespacelog.html">log</a> <a class="el" href="structlog_1_1context.html" title="used to define a custom log context">context</a> to the given stream  <a href="#f061af3843a400931c85c2739e680f4f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#6b5551e692dd7ee2f5195c212e5e8e41">log::add_message</a> (const context &amp;c, log_level severity, const std::string &amp;message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">adds a message to the logs  <a href="#6b5551e692dd7ee2f5195c212e5e8e41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#69231c1d7d23b2880f1d6dd12115ccd1">log::add_message</a> (log_level severity, const std::string &amp;message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">adds a message to the logs, using the default <a class="el" href="namespacelog.html">log</a> <a class="el" href="structlog_1_1context.html" title="used to define a custom log context">context</a>  <a href="#69231c1d7d23b2880f1d6dd12115ccd1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#da8c59d6c0287dd767a4d7f1598c6c43">log::add_message</a> (std::ostringstream &amp;buffer, log_level severity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">adds a message to the <a class="el" href="namespacelog.html">log</a>, that was assembles with a string stream before  <a href="#da8c59d6c0287dd767a4d7f1598c6c43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#986a887ea82861d93e83ea3bb79fce94">log::set_level</a> (const context &amp;c, log_level level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sets the <a class="el" href="namespacelog.html">log</a> level for the given <a class="el" href="namespacelog.html">log</a> <a class="el" href="structlog_1_1context.html" title="used to define a custom log context">context</a>  <a href="#986a887ea82861d93e83ea3bb79fce94"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#6791baa2601862548a8997de78e4f41e">log::set_level</a> (log_level level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sets the <a class="el" href="namespacelog.html">log</a> level for the default <a class="el" href="namespacelog.html">log</a> <a class="el" href="structlog_1_1context.html" title="used to define a custom log context">context</a>  <a href="#6791baa2601862548a8997de78e4f41e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#f08ef9fc807acf2c37257ae6d903666d">log::add_output</a> (const boost::shared_ptr&lt; std::streambuf &gt; &amp;output)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">adds a stream buffer to the list of outputs  <a href="#f08ef9fc807acf2c37257ae6d903666d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#e8ca18a7efad42bfa8b15fb1c445fd97">log::add_output</a> (std::streambuf &amp;output)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">adds a stream buffer to the list of outputs  <a href="#e8ca18a7efad42bfa8b15fb1c445fd97"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#0c66d702c0b3de67bd0470801404734c">log::add_output</a> (std::ostream &amp;output)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">adds a stream buffer to the list of outputs  <a href="#0c66d702c0b3de67bd0470801404734c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#c4224fd901bea5fd42bc5d48e88d1ce4">log::remove_output</a> (const boost::shared_ptr&lt; std::streambuf &gt; &amp;output)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">removes the given output from the list of outputs  <a href="#c4224fd901bea5fd42bc5d48e88d1ce4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#6973828456ad49e7049f4b183010cb1c">log::remove_output</a> (std::streambuf &amp;output)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">remove the given output from the list of outputs  <a href="#6973828456ad49e7049f4b183010cb1c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelog.html#3fecfabfc04220a66440db740eb23ae2">log::remove_output</a> (std::ostream &amp;output)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">remove the given output from the list of outputs  <a href="#3fecfabfc04220a66440db740eb23ae2"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Logging facility, that keeps a list of <a class="el" href="namespacelog.html">log</a> lines, a list of outputs for that lines and a list that associates a <a class="el" href="namespacelog.html">log</a> context with a <a class="el" href="namespacelog.html">log</a> level. The list of <a class="el" href="namespacelog.html">log</a> lines simply decouples the logging of a line from the actual writing of that line, so that the logging thread won't block, if some of the output stream buffers blocks. The list of outputs is a list of std stream buffers. If a <a class="el" href="namespacelog.html">log</a> message is logged, that line is decorated and than written to every output buffer. If an output buffer causes an error, that buffer will be removed from the output list. The last list stores a log_levels for <a class="el" href="namespacelog.html">log</a> contexts. If the function <a class="el" href="namespacelog.html#6b5551e692dd7ee2f5195c212e5e8e41" title="adds a message to the logs">add_message()</a> is called with a <a class="el" href="namespacelog.html">log</a> context, the actual <a class="el" href="namespacelog.html">log</a> level (which can be set with <a class="el" href="namespacelog.html#986a887ea82861d93e83ea3bb79fce94" title="sets the log level for the given log context">set_level()</a>) is looked up and compared with the level given to the <a class="el" href="namespacelog.html#6b5551e692dd7ee2f5195c212e5e8e41" title="adds a message to the logs">add_message()</a> function. If that level is equal or higher to that stored to the context, the message will be logged to the output. For smaler applications that do not have a need for different contexts there are overloads for the functions, that take a context as parameter, without this parameter. In this cases, a default context is used.<p>
All functions in this header are save to be called from different threads. <hr><h2>Define Documentation</h2>
<a class="anchor" name="9870820a0ce14ee3ce6ab796f0f68bb0"></a><!-- doxytag: member="log.h::LOG_MESSAGE" ref="9870820a0ce14ee3ce6ab796f0f68bb0" args="(expression, level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_MESSAGE          </td>
          <td>(</td>
          <td class="paramtype">expression,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">level&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">try</span> { \
                std::ostringstream tmp_log_output_stream;\
                tmp_log_output_stream &lt;&lt; expression;\
                <a class="code" href="namespacelog.html#6b5551e692dd7ee2f5195c212e5e8e41" title="adds a message to the logs">log::add_message</a>(tmp_log_output_stream, level);\
        } <span class="keywordflow">catch</span> (...) {}
</pre></div>convenience macro to <a class="el" href="namespacelog.html">log</a> a line 
<p>
The macro constructs a stringstream, assembles a single string unsing expression and then handles the line to add_message 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Nov 22 11:29:31 2008 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
